<div bsModal #createModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-success  modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Document Preview</h4> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <h4 class="modal-title">Document Type: <span style="color: red;">{{doc_keyword | uppercase}}</span> </h4>
        <button type="button" class="close" (click)="createModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">

            <!-- <embed  [src]="doc_url_reference | safe" type="application/pdf" width="100%" height="600px" navpanes = "2" toolbar= "0"/> -->

            <iframe [src]="doc_url_reference | safe" frameborder="0" width="100%" height="600px"
              allowfullscreen></iframe>

          </div>
          <div class="col-md-6">
            <div class="scroll">
              <div [hidden]="is_main_document_field">
                <!-- <app-dynamic-form (submit)="editRecord()">      
                </app-dynamic-form>  -->
                <app-dynamic-form>
                </app-dynamic-form>
              </div>
              <div [hidden]="!is_main_document_field">
                <dynamic-nested-form></dynamic-nested-form>
              </div>
            </div>
          </div>


        </div>
      </div>

      <div class="modal-footer">

      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
<div class="animated fadeIn">
  <div class="card">
    <div class="card-header">
      <strong>Data Cleaning Check List</strong>
    </div>
    <div class="card-body">
      <tabset #staticTabs>
        <tab heading="Search By File Number">


          <form [formGroup]="searchForm">
            <div class="row">

              <div class="form-group col-sm-12 col-md-4 col-lg-4">
                <label for="country">File Number</label>
                <input type="text" class="form-control" formControlName="search_value" placeholder="Enter File Number">
              </div>
              <div class="form-group col-sm-12 col-md-4 col-lg-4">
                <label for="country">&nbsp;&nbsp;</label>
                <button type="button" class="btn form-control  btn-success btn-md " (click)="filterdocuments()"> <i
                    class="fa fa-search"></i> Search </button>
              </div>

            </div>
          </form>
          <div *ngIf="start_file_cleaning_task">
            <div class="card">

              <div class="card-header">
                Start Data Cleaning Exercise
              </div>
              <div class="card-body">
                <form [formGroup]="startDataCleaningForm">
                 <div class="row">
                  <div class="col-sm-12 col-md-4 col-lg-4">
                    <label>Department </label>
                    <select class="form-control" formControlName="department_id"
                      [ngClass]="{ 'is-invalid': datacleaningstartformstatus &amp;&amp; startDataCleaningForm.controls.department_id.errors }">
    
                      <option *ngFor="let department_record of department_list" value={{department_record.id}}>
                        {{department_record.name}}
                      </option>
                    </select>
                    <error-message [control]="startDataCleaningForm.controls.department_id" *ngIf="datacleaningstartformstatus">
                    </error-message>
                  </div>
                  <div class="col-sm-12 col-md- col-lg-4">
                    <label for="lastname">&nbsp;</label>
                    <button type="submit" class="btn btn-primary col-sm-4" (click)="startdatacleaningTask()"> Start Cleaning</button>
                  </div>
                 </div>
                 
                 

                  
  
                </form>
  


              </div>

            </div>

          </div>
          <div *ngIf="!start_file_cleaning_task">
            <ngb-alert type="warning" [dismissible]="false"> <strong>
                <p>
                  File Number :
                  <strong>
                    {{reference_file_number}}
                  </strong>
                </p>
                <p>
                  Cleaning File Status :
                  <strong>
                    {{reference_file_status}}
                  </strong>
                </p>
              </strong> </ngb-alert>



          </div>


        </tab>
        <tab heading="File Entry Details">



          <!-- <br> -->
          <div class="row">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <label>&nbsp;</label>
              <button type="button" class="btn btn-primary col-md-12" (click)="fetchfilerecords()">
                <i class="fa fa-cog fa-1x"></i>
                Fetch File records</button>
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4 offset-md-4">
              <label>&nbsp;</label>
              <div class="input-group">

                <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                </div>
                <input class="form-control " placeholder="Search Here" type="text" [(ngModel)]="searchString">
              </div>
            </div>
          </div>
          <br>
          <div class="table-responsive">

            <table [mfData]="records" #mf="mfDataTable" [mfRowsOnPage]="10"
              class="table table-bordered table-striped table-sm row-border hover" style="width:100%">
              <thead>
                <tr>
                  <th>#</th>
                  <th>File Number</th>
                  <th>Document Type</th>
                  <th> Status</th>
                  <th> Uploaded By</th>
                  <th>File Name</th>
                  <th>Validated By</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody *ngIf="records?.length != 0">
                <tr *ngFor="let recordinstance of mf.data | filter : searchString ; let i = index"
                  [ngSwitch]="recordinstance.document_status">
                  <td>{{i + 1}}</td>
                  <td>{{ recordinstance.file_no }}</td>
                  <td>{{ recordinstance.document_keyword | uppercase }}</td>
                  <td>
                    <div *ngSwitchCase="'APPROVED'">
                      <span class="badge badge-success">
                        APPROVED
                      </span>
                    </div>
                    <div *ngSwitchCase="'REJECTED'">
                      <span class="badge badge-danger">
                        REJECTED
                      </span>
                    </div>
                    <div *ngSwitchDefault>
                      <span class="badge badge-primary">
                        {{recordinstance.document_status}}
                      </span>
                    </div>

                  </td>
                  <td>{{ recordinstance.uploader }}</td>
                  <td>{{ recordinstance.original_file_name }}</td>
                  <td>{{ recordinstance.approver }}</td>


                  <td>
                    <div *ngSwitchCase="'APPROVED'">
                      <button type="button" class="btn btn-success  btn-sm " (click)="viewdetails(recordinstance.id)">
                        <i class="fa fa-pencil-square-o"></i> </button>
                    </div>
                    <div *ngSwitchCase="'REJECTED'">
                      <button type="button" class="btn btn-danger  btn-sm " (click)="viewdetails(recordinstance.id)"> <i
                          class="fa fa-pencil-square-o"></i> </button>
                    </div>
                    <div *ngSwitchCase="'REVOKED'">
                      <button type="button" class="btn btn-danger  btn-sm " (click)="viewdetails(recordinstance.id)"> <i
                          class="fa fa-pencil-square-o"></i> </button>
                    </div>
                    <div *ngSwitchDefault>
                      <button type="button" class="btn btn-primary  btn-sm " (click)="viewdetails(recordinstance.id)">
                        <i class="fa fa-pencil-square-o"></i> </button>
                    </div>



                  </td>

                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="12">
                    Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,100,1000,10000]">
                    </mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
              <tbody *ngIf="records?.length == 0">
                <tr>
                  <td colspan="9" class="no-data-available">No records to show</td>
                </tr>
              <tbody>
            </table>
          </div>


        </tab>

        <tab heading="Document Captured Preview">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-12 col-md-4 col-lg-4 offset-md-8">
                <div class="input-group">
                  <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                  </div>
                  <input class="form-control " placeholder="Search Here" type="text"
                    [(ngModel)]="documentrecordsString">
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table [mfData]="document_details" #documentrecordstable="mfDataTable" [mfRowsOnPage]="10"
                class="table table-bordered table-sm  table-striped row-border hover" style="width:100%">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>File Number</th>
                    <th>Folio Number</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody *ngIf="document_details?.length != 0">
                  <tr
                    *ngFor="let recordinstance of  documentrecordstable.data | filter : documentrecordsString ; let i = index">
                    <td>{{i + 1}}</td>
                    <td>{{ recordinstance.file_number}}</td>
                    <td>{{ recordinstance.folio_number }}</td>


                    <td>
                      <button type="button" class="btn btn-primary  btn-sm "
                        (click)="preview_document(recordinstance.id)"> <i class="fa fa-pencil"></i> </button>

                    </td>

                  </tr>
                </tbody>
                <tbody *ngIf="document_details?.length == 0">
                  <tr>
                    <td colspan="9" class="no-data-available">No records to show</td>
                  </tr>
                <tbody>
              </table>
            </div>
            <hr>
            <div class="comments_section">
              <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 offset-md-8">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                    </div>
                    <input class="form-control " placeholder="Search Here" type="text"
                      [(ngModel)]="commentsearchString">
                  </div>
                </div>
              </div>
              <br>
              <div class="table-responsive">
                <table [mfData]="comments" #commentstable="mfDataTable" [mfRowsOnPage]="10"
                  class="table table-striped table-bordered table-sm table-hover row-border" style="width:100%">
                  <thead>
                    <tr>

                      <th style="width: 10%">
                        #
                      </th>
                      <th style="width: 20%">
                        <mfDefaultSorter by="type_category.name">Comments </mfDefaultSorter>
                      </th>
                      <th style="width: 20%">
                        <mfDefaultSorter by="type_category.name">Commented By </mfDefaultSorter>
                      </th>
                      <th style="width: 20%">
                        <mfDefaultSorter by="type_category.name">Commented Date </mfDefaultSorter>
                      </th>


                    </tr>
                  </thead>
                  <tbody *ngIf="comments?.length != 0">
                    <tr
                      *ngFor="let recordinstance of commentstable.data | filter : commentsearchString ; let i = index">
                      <td>{{i + 1}}</td>
                      <td>{{ recordinstance.comments}}</td>
                      <td>{{ recordinstance.user }}</td>
                      <td>{{ recordinstance.action_time | date : 'medium'}}</td>



                    </tr>
                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="12">
                        Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,100,1000]">
                        </mfBootstrapPaginator>
                      </td>
                    </tr>
                  </tfoot>
                  <tbody *ngIf="comments?.length == 0">
                    <tr>
                      <td colspan="9" class="no-data-available">No Comments to show</td>
                    </tr>
                  <tbody>
                </table>
              </div>

            </div>

            <div class="card">
              <div class="card-header">
                <strong>New Comment Section</strong>
              </div>
              <div class="card-body">
                <form [formGroup]="DocumentCommentForm">
                  <div class="row col-md-12">
                    <div class="form-group col-sm-6">
                      <label>Remarks</label>
                      <textarea formControlName="remarks" class="form-control">

                              </textarea>
                    </div>

                    <div class="form-group col-sm-6">
                      <label for="lastname">&nbsp;</label>
                      <button type="submit" class="btn btn-success col-sm-12" (click)="createcomment()"> Submit</button>
                    </div>

                  </div>
                </form>

              </div>
            </div>
          </div>

        </tab>
        <tab heading="Document Types Data Capture">
          <form [formGroup]="DocumentTypeForm">
            <div class="row">
              <!-- <div class="col-sm-12 col-md-4 col-lg-4">
                <label>Document Type</label>
                <input class="form-control " placeholder="Search Document Type" type="text" />
                <select class="form-control" formControlName="document_type"
                [ngClass]="{ 'is-invalid': documenttypeformstatus &amp;&amp; DocumentTypeForm.controls.document_type.errors }" >
               
                  <option value="">--Select Document Type--</option>
                  <option *ngFor="let doc_types of department_documents" value={{doc_types.id}}>
                    {{doc_types.name}}
                  </option>
                </select>

                <error-message [control]="DocumentTypeForm.controls.document_type" *ngIf="documenttypeformstatus"></error-message>
              </div> -->
              <div class="col-sm-12 col-md-4 col-lg-4">
                <label>Document Type</label>
                <ng-select [searchable]="true" [clearable]="true" formControlName="document_type" name="document_type"
                  [ngClass]="{ 'is-invalid': documenttypeformstatus &amp;&amp; DocumentTypeForm.controls.document_type.errors }">
                  <ng-option [value]="doc_types.id" *ngFor="let doc_types of department_documents">

                    {{doc_types.name}}
                  </ng-option>
                </ng-select>

                <!-- <select class="form-control" formControlName="document_type"
                [ngClass]="{ 'is-invalid': documenttypeformstatus &amp;&amp; DocumentTypeForm.controls.document_type.errors }" >
               
                  <option value="">--Select Document Type--</option>
                  <option *ngFor="let doc_types of department_documents" value={{doc_types.id}}>
                    {{doc_types.name}}
                  </option>
                </select> -->

                <error-message [control]="DocumentTypeForm.controls.document_type" *ngIf="documenttypeformstatus">
                </error-message>
              </div>




              <div class="col-sm-12 col-md-4 col-lg-4">
                <label>Is Validated</label>
                <select class="form-control" formControlName="validity_status"
                  [ngClass]="{ 'is-invalid': documenttypeformstatus &amp;&amp; DocumentTypeForm.controls.validity_status.errors }">

                  <option *ngFor="let status_validate of validation_status" value={{status_validate.id}}>
                    {{status_validate.name}}
                  </option>
                </select>
                <error-message [control]="DocumentTypeForm.controls.validity_status" *ngIf="documenttypeformstatus">
                </error-message>
              </div>

              <div class="col-sm-12 col-md-4 col-lg-4">
                <label>&nbsp;</label>
                <div *ngIf="show_document_type_create">
                  <button type="button" class="btn btn-primary col-md-12" (click)="addDocumenttypeRow()">
                    <i class="fa fa-plus fa-1x"></i>
                    Add Record</button>
                </div>
                <div *ngIf="!show_document_type_create">
                  <button type="button" class="btn btn-success col-md-12" (click)="updateDocumenttypeRow()">
                    <i class="fa fa-plus fa-1x"></i>
                    Update Record</button>
                </div>
              </div>
            </div>


          </form>


          <div class="row">
            <div class="container" style="margin-top: 5%">
              <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 offset-md-8">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                    </div>
                    <input class="form-control " placeholder="Search Here" type="text" [(ngModel)]="docsearchString">
                  </div>
                </div>
              </div>
              <br>

            </div>
          </div>
          <br>
          <div class="table-responsive">
            <table [mfData]="formInputRecords" #documenttypestable="mfDataTable" [mfRowsOnPage]="10"
              class="table table-striped table-bordered  table-sm table-hover row-border">
              <thead>
                <tr>

                  <th>#</th>
                  <th>Document Type</th>
                  <th>Document Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody *ngIf="formInputRecords?.length != 0">

                <tr *ngFor="let doc_type of documenttypestable.data | filter : docsearchString ; let i = index;">

                  <td>
                    {{i + 1}}
                  </td>

                  <td>
                    <select class="form-control" name="document_types">
                      <option *ngFor="let document_types of department_documents"
                        [selected]="document_types.id == doc_type.document_type">
                        {{document_types.name}}
                      </option>
                    </select>
                  </td>
                  <td>
                    {{doc_type.validity_status}}

                  </td>
                  <td>
                    <button type="button" class="btn btn-primary  btn-sm " (click)="editDocumenttypeRow(doc_type)"> <i
                        class="fa fa-pencil "></i> </button>
                    <button type="button" class="btn btn-danger  btn-sm " (click)="deleteDocumenttypeRow(doc_type)"> <i
                        class="fa fa-trash "></i> </button>
                  </td>

                </tr>

              </tbody>
              <tfoot>
                <tr>
                  <td colspan="12">
                    Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]">
                    </mfBootstrapPaginator>
                  </td>
                </tr>
              </tfoot>
              <tbody *ngIf="formInputRecords?.length == 0">
                <tr>
                  <td colspan="9" class="no-data-available">No records to show</td>
                </tr>
              <tbody>
            </table>
          </div>




        </tab>



        <tab heading="Parcel Information">
          <div class="card">
            <div class="card-header">
              Parcel Information
            </div>
            <div class="card-body">
              <form [formGroup]="parcelDetailsForm">
                <div class="row">
                  <div class="col-sm-12 col-md-3 col-lg-3">

                    <label>Parcel Numbering Type</label>
                    <select class="form-control" formControlName="parcel_numbering_type" (change)="parcel_type_change()"
                      [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.parcel_numbering_type.errors }">
                      <option value="">--Select Parcel Numbering Type--</option>
                      <option *ngFor="let parcel_type of parcel_numbering_type" value={{parcel_type.code}}>
                        {{parcel_type.name}}
                      </option>

                    </select>
                    <error-message [control]="parcelDetailsForm.controls.parcel_numbering_type"
                      *ngIf="parceldetailsformstatus"></error-message>

                  </div>

                  <ng-container *ngIf="show_ir_field">
                    
                      <div class="col-sm-12 col-md-4 col-lg-4">
                        <label>IR NUMBER</label>
                        <input class="form-control"formControlName="ir_number"
                          [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.ir_number.errors }" />
                        <error-message [control]="parcelDetailsForm.controls.ir_number" *ngIf="parceldetailsformstatus">
                        </error-message>
    
                      </div>
                      <div class="col-sm-12 col-md-4 col-lg-4">
                        <label>LR NUMBER</label>
                        <input class="form-control"formControlName="lr_number"
                          [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.lr_number.errors }" />
                        <error-message [control]="parcelDetailsForm.controls.lr_number" *ngIf="parceldetailsformstatus">
                        </error-message>
    
                      </div>
                
                    
                  </ng-container>
                  <ng-container *ngIf="!show_ir_field">

                    <div class="col-sm-12 col-md-3 col-lg-3">
                      <label>Parcel Prefix</label>
                      <input class="form-control" formControlName="parcel_prefix" 
                        [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.parcel_prefix.errors }" />
                      <error-message [control]="parcelDetailsForm.controls.parcel_prefix" *ngIf="parceldetailsformstatus">
                      </error-message>
  
                    </div>
                    <div class="col-sm-12 col-md-3 col-lg-3">
                      <label>Block Number</label>
                      <input class="form-control" formControlName="block_number"
                        [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.block_number.errors }" />
                      <error-message [control]="parcelDetailsForm.controls.block_number" *ngIf="parceldetailsformstatus">
                      </error-message>
                    </div>
                    <div class="col-sm-12 col-md-3 col-lg-3">
                      <label>Parcel Number</label>
                      <input class="form-control" type="text" formControlName="parcel_number"
                        [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.parcel_number.errors }" />
                      <error-message [control]="parcelDetailsForm.controls.parcel_number" *ngIf="parceldetailsformstatus">
                      </error-message>
                    </div>
                    </ng-container>
                 
                 

                  
                  
                </div>
                <br />
                <div class="row">

                  <div class="col-sm-12 col-md-4 col-lg-4">
                    <label>File Number</label>
                    <input class="form-control" readonly formControlName="file_number"
                      [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.file_number.errors }" />
                    <error-message [control]="parcelDetailsForm.controls.file_number" *ngIf="parceldetailsformstatus">
                    </error-message>
                  </div>
                  <div class="col-sm-12 col-md-4 col-lg-4">
                    <label>Parcel Ownership Type</label>
                    <select class="form-control" formControlName="parcel_owner_type" (change)="ownership_type_change()"
                      [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.parcel_owner_type.errors }">

                      <option *ngFor="let ownertype of ownership_type" value={{ownertype.code}}>
                        {{ownertype.name}}
                      </option>
                    </select>
                    <error-message [control]="parcelOwnershipForm.controls.parcel_owner_type"
                      *ngIf="parcelownershipformstatus"></error-message>
                  </div>

                
               
                    <div class="col-sm-12 col-md-4 col-lg-4">
                      <label>Parcel Status</label>
                      <select class="form-control" formControlName="parcel_status"
                        [ngClass]="{ 'is-invalid': parceldetailsformstatus &amp;&amp; parcelDetailsForm.controls.parcel_status.errors }">

                        <option *ngFor="let parcel_info of parcel_status" value={{parcel_info.code}}>
                          {{parcel_info.name}}
                        </option>
                      </select>
                      <error-message [control]="parcelDetailsForm.controls.parcel_status"
                        *ngIf="parceldetailsformstatus">
                      </error-message>
                 
                  </div>
                  <div class="col-sm-12 col-md-4 col-lg-4">
                    <label>&nbsp;</label>
                    <div *ngIf="show_parcel_details_create">
                      <button type="button" class="btn btn-primary col-md-12" (click)="create_parcel_information()">
                        <i class="fa fa-plus fa-1x"></i>
                        Create </button>
                    </div>
                    <div *ngIf="!show_parcel_details_create">
                      <button type="button" class="btn btn-success col-md-12" (click)="update_parcel_information()">
                        <i class="fa fa-plus fa-1x"></i>
                        Update </button>
                    </div>
                  </div>





                </div>



              </form>

            </div>

          </div>
          <div *ngIf="requires_parcel_information">
            <div class="card">
              <div class="card-header">
                Ownership Details
              </div>
              <div class="card-body">
                <form [formGroup]="parcelOwnershipForm">
                  <div class="row">

                    <div class="col-sm-12 col-md-4 col-lg-4">
                      <label>System</label>
                      <select class="form-control" formControlName="parcel_system"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.parcel_system.errors }">

                        <option *ngFor="let platform of system" value={{platform.code}}>
                          {{platform.name}}
                        </option>
                      </select>
                      <error-message [control]="parcelOwnershipForm.controls.parcel_system"
                        *ngIf="parcelownershipformstatus"></error-message>

                    </div>
                    <div class="col-sm-12 col-md-4 col-lg-4">

                      <label>Entity Type</label>
                      <select class="form-control" formControlName="entity_type" 
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.entity_type.errors }">
                        <option value="">-- Entity Type--</option>
                        <option *ngFor="let entity_type_record of entity_type_list" value={{entity_type_record.code}}>
                          {{entity_type_record.name}}
                        </option>
  
                      </select>
                      <error-message [control]="parcelOwnershipForm.controls.entity_type" *ngIf="parcelownershipformstatus">
                      </error-message>
  
                    </div>
                    <div class="col-sm-12 col-md-4 col-lg-4">

                      <label>Ownership Rights</label>
                      <select class="form-control" formControlName="ownership_rights" 
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.ownership_rights.errors }">
                        <option value="">-- Select Ownership Rights--</option>
                        <option *ngFor="let ownershiprights_record of ownership_rights_list" value={{ownershiprights_record.code}}>
                          {{ownershiprights_record.name}}
                        </option>
  
                      </select>
                      <error-message [control]="parcelOwnershipForm.controls.entity_type" *ngIf="parcelownershipformstatus">
                      </error-message>
  
                    </div>
                   





                  </div>
                  <div class="row">
                    <div class="col-sm-12 col-md-4 col-lg-4">
                      <label>Owner Identification Type</label>
                      <select class="form-control" formControlName="owner_identification_type"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.owner_identification_type.errors }">
                        <option>
                          Select Owner Identification Type
                        </option>
                        <option *ngFor="let identification of owner_identification_type" value={{identification.code}}>
                          {{identification.name}}
                        </option>
                      </select>
                      <error-message [control]="parcelOwnershipForm.controls.parcel_owner_identification_type"
                        *ngIf="parcelownershipformstatus"></error-message>

                    </div>
                    <div class="col-sm-12 col-md-4 col-lg-4">
                      <label>Owner Identification Number </label>
                      <input class="form-control" formControlName="owner_identification_number"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.owner_identification_number.errors }" />
                      <error-message [control]="parcelOwnershipForm.controls.owner_identification_number"
                        *ngIf="parcelownershipformstatus"></error-message>
                    </div>
                    <div class="col-sm-12 col-md-4 col-lg-4">
                      <label>Parcel Owner Name</label>
                      <input class="form-control" formControlName="owner_name"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.owner_name.errors }" />
                      <error-message [control]="parcelOwnershipForm.controls.owner_name"
                        *ngIf="parcelownershipformstatus"></error-message>
                    </div>

                  </div>
                  <div class="row">
                    <div class="col-sm-4 col-md-2 col-lg-2">
                      <div *ngIf="ownership_type_option">
                <label>Share Numerator</label>
                      <input class="form-control" formControlName="share_numerator" type="number" default="0"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.share_numerator.errors }" />
                      <error-message [control]="parcelOwnershipForm.controls.share_numerator"
                        *ngIf="parcelownershipformstatus"></error-message>
                      </div>
                   
                    </div>
                    <div class="col-sm-4 col-md-2 col-lg-2">
                      <div *ngIf="ownership_type_option">
                <label>Share Denominator</label>
                      <input class="form-control" formControlName="share_denominator" type="number" default="0"
                        [ngClass]="{ 'is-invalid': parcelownershipformstatus &amp;&amp; parcelOwnershipForm.controls.share_denominator.errors }" />
                      <error-message [control]="parcelOwnershipForm.controls.share_denominator"
                        *ngIf="parcelownershipformstatus"></error-message>
                      </div>
                   
                    </div>
                
                </div>
                <div class="col-sm-12 col-md-4 col-lg-4">
                  <label>&nbsp;</label>
                  <div *ngIf="show_parcel_owners_create">
                    <button type="button" class="btn btn-primary col-md-12" (click)="addparcelownerRow()">
                      <i class="fa fa-plus fa-1x"></i>
                      Add Record</button>
                  </div>
                  <div *ngIf="!show_parcel_owners_create">
                    <button type="button" class="btn btn-success col-md-12" (click)="updateparcelownerRow()">
                      <i class="fa fa-plus fa-1x"></i>
                      Update Record</button>
                  </div>
                </div>
                  
                </form>

              </div>
              <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 offset-md-8">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                    </div>
                    <input class="form-control " placeholder="Search Here" type="text"
                      [(ngModel)]="parcelrecordsString">
                  </div>
                </div>
              </div>
              <br>
              <div class="table-responsive">
                <table [mfData]="parcelInputRecords" #parceltable="mfDataTable" [mfRowsOnPage]="10"
                  class="table table-striped table-bordered  table-sm table-hover">
                  <thead>
                    <tr>

                      <th>#</th>
                      <th>Parcel System</th>
                      <th>Identification Type</th>
                      <th>Identification Number</th>
                      <th>Owner's Name</th>
                      <th>Action</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="parcelInputRecords?.length != 0">

                    <tr *ngFor="let dynamic of parceltable.data | filter : docsearchString ; let i = index;">

                      <td>
                        {{i + 1}}
                      </td>
                      <td>
                        {{dynamic.parcel_system}}

                      </td>
                      <td>
                        {{dynamic.owner_identification_type}}

                      </td>
                      <td>
                        {{dynamic.owner_identification_number}}

                      </td>
                      <td>
                        {{dynamic.owner_name}}

                      </td>
                      <td>
                        <button type="button" class="btn btn-primary  btn-sm " (click)="editparcelownerRow(dynamic)"> <i
                            class="fa fa-pencil "></i> </button>
                        <button type="button" class="btn btn-danger  btn-sm " (click)="deleteparcelownerRow(dynamic)">
                          <i class="fa fa-trash "></i> </button>
                      </td>

                    </tr>

                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="12">
                        Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]">
                        </mfBootstrapPaginator>
                      </td>
                    </tr>
                  </tfoot>
                  <tbody *ngIf="parcelInputRecords?.length == 0">
                    <tr>
                      <td colspan="9" class="no-data-available">No records to show</td>
                    </tr>
                  <tbody>
                </table>
              </div>

            </div>

          </div>







        </tab>

        <tab heading="Document Submission">
          <div class="card">
            <div class="card-header">
              File Comments
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-sm-12 col-md-4 col-lg-4 offset-md-8">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span>
                    </div>
                    <input class="form-control " placeholder="Search Here" type="text"
                      [(ngModel)]="filecommentsearchString">
                  </div>
                </div>
              </div>
              <br>
              <div class="table-responsive">
                <table [mfData]="file_comment_records" #remarkstable="mfDataTable" [mfRowsOnPage]="100"
                  class="table table-striped table-bordered  table-sm table-hover">
                  <thead>
                    <tr>

                      <th>#</th>
                      <th>Comment</th>
                      <th>Username</th>
                      <th>Full Names</th>
                      <th>Comment Date</th>
                    </tr>
                  </thead>
                  <tbody *ngIf="file_comment_records?.length != 0">

                    <tr *ngFor="let remarks of remarkstable.data | filter : filecommentsearchString ; let i = index;">

                      <td>
                        {{i + 1}}
                      </td>
                      <td>
                        {{remarks.comment}}

                      </td>
                      <td>
                        {{remarks.commented_by.username}}

                      </td>
                      <td>
                        {{remarks.commented_by.first_name}} - {{remarks.commented_by.last_name}}

                      </td>
                      <td>
                        {{remarks.comment_date | date : 'medium' }}

                      </td>

                    </tr>

                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="12">
                        Select Records in a page : <mfBootstrapPaginator
                          [rowsOnPageSet]="[5,10,25,100,500,1000,1000,100000000]">
                        </mfBootstrapPaginator>
                      </td>
                    </tr>
                  </tfoot>
                  <tbody *ngIf="file_comment_records?.length == 0">
                    <tr>
                      <td colspan="9" class="no-data-available">No records to show</td>
                    </tr>
                  <tbody>
                </table>
              </div>

            </div>

          </div>
          <div class="card">
            <div class="card-header">
              Document Action
            </div>
            <div class="card-body">
              <form [formGroup]="remarksForm" (ngSubmit)="change_file_status()">
                <div class="row">
                  <div class="col-sm-12 col-md-6 col-lg-6">
                    <label>Status</label>
                    <select class="form-control" formControlName="general_status"
                      [ngClass]="{ 'is-invalid': remarkformstatus &amp;&amp; remarksForm.controls.general_status.errors }">

                      <option *ngFor="let doc_status of document_general_status" value={{doc_status.code}}>
                        {{doc_status.name}}
                      </option>
                    </select>
                    <error-message [control]="remarksForm.controls.general_status" *ngIf="remarkformstatus">
                    </error-message>

                  </div>
                  <div class="col-sm-12 col-md-6 col-lg-6">
                    <label>General Remarks</label>
                    <textarea class="form-control" formControlName="remarks"
                      [ngClass]="{ 'is-invalid': remarkformstatus &amp;&amp; remarksForm.controls.remarks.errors }">
                    </textarea>
                    <error-message [control]="remarksForm.controls.remarks" *ngIf="remarkformstatus"></error-message>
                  </div>



                </div>
                <br />
                <div class="row">

                  <div class="col-sm-12 col-md-6 col-lg-6">

                    <button type="submit" class="btn btn-success col-md-12">
                      <i class="fa fa-check fa-1x"></i>
                      Submit</button>
                  </div>
                </div>
              </form>
            </div>
          </div>


        </tab>
      </tabset>
    </div>