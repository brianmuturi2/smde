<div class="animated fadeIn">
  <div class="card">
    <div class="card-header">
      <strong>Data Cleaning Check List</strong>
    </div>
    <div class="card-body">
      <div class="card">
        <div class="card-header"  (click)="isDocumentSearchCollapsed = !isDocumentSearchCollapsed">
          <strong>Search By File Number</strong>
        </div>
        <div class="card-body" [ngbCollapse]="isDocumentSearchCollapsed">
          <form [formGroup]="searchForm">
          <div class="row">
           
            <div class="form-group col-sm-6">
              <label for="country">File Number</label>
              <input type="text" class="form-control"  formControlName="search_value" placeholder="Enter File Number">
            </div>
            <div class="form-group col-sm-3">
              <label for="country">&nbsp;&nbsp;</label>
              <button type="button" class="btn form-control  btn-success btn-md " (click)="filterdocuments()" > <i
                  class="fa fa-search"></i> Search </button>
            </div>
         
          </div>
        </form>
          <!-- <br> -->
          <div class="row">
            <div class="col-sm-4 col-md-4 col-lg-4 offset-md-8">
              <div class="input-group">
                <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span></div>
                <input class="form-control " placeholder="Search Here" type="text" [(ngModel)]="searchString">
              </div>
            </div>
            </div>
            <br>
            <div class="table-responsive">
    
          <table [mfData]="records" #mf="mfDataTable"
          [mfRowsOnPage]="10"
            class="table table-bordered table-striped row-border hover" style="width:100%">
            <thead>
              <tr>
                <th>#</th>
                <th>File Number</th>
                <th>Document Type</th>
                <th> Status</th>
                <th> Uploaded By</th>
                <th>File Name</th>
                <th>Validated By</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody *ngIf="records?.length != 0">
              <tr *ngFor="let recordinstance of mf.data | filter : searchString ; let i = index"
               [ngSwitch]="recordinstance.document_status">
                <td>{{i + 1}}</td>
                <td>{{ recordinstance.file_no }}</td>
                <td>{{ recordinstance.document_keyword | uppercase }}</td>
                <td>
                  <div *ngSwitchCase="'APPROVED'">
                    <span class="badge badge-success">
                      APPROVED
                      </span>
                  </div>
                  <div *ngSwitchCase="'REJECTED'">
                    <span class="badge badge-danger">
                      REJECTED
                      </span>
                  </div>
                  <div *ngSwitchDefault>
                    <span class="badge badge-primary">
                      {{recordinstance.document_status}}
                      </span>
                  </div>
               
                </td>
                <td>{{ recordinstance.uploader }}</td>
                <td>{{ recordinstance.original_file_name }}</td>
                <td>{{ recordinstance.approver }}</td>
                
               
               <td>
                  <button type="button" class="btn btn-success  btn-sm " (click)="viewdetails(recordinstance.id)"> <i
                      class="fa fa-pencil-square-o"></i> </button>
                  
                </td> 
    
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="12">
                  Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25,100,1000,10000]"></mfBootstrapPaginator>
                </td>
              </tr>
            </tfoot>
            <tbody *ngIf="records?.length == 0">
              <tr>
                <td colspan="9" class="no-data-available">No records to show</td>
              </tr>
            <tbody>
          </table>
          </div>
        </div>
      </div>
      </div>
      <div class="card">
        <div class="card-header" (click)="isDocumentTypeCollapsed = !isDocumentTypeCollapsed">
          <strong>Document Types Listing</strong>
        </div>
        <div class="card-body" [ngbCollapse]="isDocumentTypeCollapsed">
        <form  [formGroup]="DocumentTypeForm">
          <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>Document Type</label>
             
                <!-- formControlName="identification_type" -->
                <!-- [ngClass]="{ 'is-invalid': recordsearchformstatus &amp;&amp; RecordSearchForm.controls.identification_type.errors }" -->
            
                <select class="form-control" formControlName="document_type">
                <option value="">--Select Document Type--</option>
              <option *ngFor="let doc_types of department_documents" value={{doc_types.id}}>
                {{doc_types.name}}
              </option>
              </select>
            
             
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>Is Validate</label>
              <select class="form-control" formControlName="validity_status">
              
              <option *ngFor="let status_validate of validation_status" value={{status_validate.id}}>
                {{status_validate.name}}
              </option>
              </select>
             
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>Remarks</label>
              <textarea class="form-control " rows="4" formControlName="document_type_remarks">

              </textarea>
              
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
              <label>&nbsp;</label>
              <button  type="button" class="btn btn-primary col-md-12" (click)="addRow()" >
                <i class="fa fa-plus fa-1x"></i>
                Save</button>
            </div>
            </div>
            <hr>
        </form>
         

          <div class="row">
            <div class="container" style="margin-top: 5%">
              <div class="row">
                <div class="col-sm-4 col-md-4 col-lg-4 offset-md-8">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-search"></i></span></div>
                    <input class="form-control " placeholder="Search Here" type="text" [(ngModel)]="docsearchString">
                  </div>
                </div>
                </div>
                <br>
              <div class="table-responsive">
              <table [mfData]="formInputRecords" #parceltable="mfDataTable"
              [mfRowsOnPage]="10" class="table table-striped table-bordered table-hover row-border">
                  <thead>
                      <tr>
                          
                          
                          <th>Document Type</th>
                          <th>Status</th>
                          <th>Remarks</th>
                          <th>Action</th>
                      </tr>
                  </thead>
                  <tbody *ngIf="formInputRecords?.length != 0">
                    
                       <tr *ngFor="let dynamic of parceltable.data | filter : docsearchString ; let i = index;">
                        
                        
                          <td>

                            <select class="form-control">
                          
                            <option *ngFor="let doc_types of department_documents" value={{doc_types.id}} value={{dynamic.document_type}}>
                              {{doc_types.name}}
                            </option>
                            </select>
                            <!-- {{dynamic.file_number}} -->
                          
                          </td>
                          <td>
                            <!-- {{dynamic.validity_status}} -->
                            <select class="form-control">
              
                              <option *ngFor="let status_validate of validation_status" value={{status_validate.id}} value={{dynamic.validity_status}}>
                                {{status_validate.name}}
                              </option>
                              </select>
                          
                          </td>
                          <td>
                            {{dynamic.document_type_remarks}}
                          
                          </td>
                          <td>
                            <button type="button" class="btn btn-primary  btn-sm " (click)="editRow(dynamic)"> <i
                                class="fa fa-pencil "></i> </button>
                            <button type="button" class="btn btn-danger  btn-sm " (click)="deleteRow(dynamic)"> <i
                                class="fa fa-trash "></i> </button>
                          </td>
                         
                      </tr>
                      
                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="12">
                        Select Records in a page : <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                      </td>
                    </tr>
                  </tfoot>
                  <tbody *ngIf="formInputRecords?.length == 0">
                    <tr>
                      <td colspan="9" class="no-data-available">No records to show</td>
                    </tr>
                  <tbody>
              </table>
              </div>
            
            </div>
          </div>
            
        </div>
      </div>

      
    
      <div class="card">
        <div class="card-header"(click)="isParcelCollapsed = !isParcelCollapsed" >
          <strong>Parcel Information</strong>
        </div>
        <div class="card-body"  [ngbCollapse]="isParcelCollapsed">
          
          <div class="row">
            <div class="col-sm-4 col-md-4 col-lg-4">
              <label>Parcel Numbering Type</label>
             
                <!-- formControlName="identification_type" -->
                <!-- [ngClass]="{ 'is-invalid': recordsearchformstatus &amp;&amp; RecordSearchForm.controls.identification_type.errors }" -->
            
                <select class="form-control">
                <option value="">--Select Parcel Numbering Type--</option>
              <option *ngFor="let parcel_type of parcel_numbering_type" value={{parcel_type.id}}>
                {{parcel_type.name}}
              </option>
              </select>
            
             
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4">
              <label>Parcel Prefix</label>
              <input class="form-control" />
             
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4">
              <label>Parcel Number</label>
            <input class="form-control" />
             
            </div>
            </div>
            <br />
            <div class="row">
              <div class="col-sm-4 col-md-4 col-lg-4">
                <label>File Number</label>
              <input class="form-control"/>
               
              </div>
              <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Status</label>
                <select class="form-control">
                
                <option *ngFor="let status_validate of validation_status" value={{status_validate.id}}>
                  {{status_validate.name}}
                </option>
                </select>
               
              </div>
              <div class="col-sm-4 col-md-4 col-lg-4">
                <label>Comments</label>
                <textarea class="form-control " rows="4">
  
                </textarea>
                
              </div>
              </div>
         <br />
<hr>
          <button  type="button" class="btn btn-success col-md-6" (click)="saveformData()" >
            <i class="fa fa-paper-plane-o fa-1x"></i>
            Submit</button>
        </div>
        </div>
       
  </div>
 

</div>

